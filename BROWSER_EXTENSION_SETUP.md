# 浏览器插件安装和使用指南

## 📦 快速开始

### 1. 确保后端服务运行

首先确保后端API服务正在运行：

```bash
cd backend
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 2. 准备图标文件

在 `browser-extension/icons/` 目录中准备图标文件：
- `icon16.png` (16x16)
- `icon32.png` (32x32)
- `icon48.png` (48x48)
- `icon128.png` (128x128)

如果没有图标，可以先使用占位图片或emoji。

### 3. 安装插件

#### Chrome/Edge (推荐)

1. 打开浏览器，访问 `chrome://extensions/` 或 `edge://extensions/`
2. 右上角开启"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 `browser-extension` 文件夹
5. 插件安装完成！

#### Firefox

1. 打开 Firefox，访问 `about:debugging`
2. 点击"此 Firefox"
3. 点击"临时载入附加组件"
4. 选择 `browser-extension/manifest.json`
5. 插件安装完成！

### 4. 验证安装

1. 点击浏览器工具栏中的插件图标
2. 应该能看到弹窗界面
3. 检查连接状态（应显示"已连接"）

## 🎯 使用步骤

### 步骤 1: 访问购物网站

打开任意支持的购物网站：
- 京东: https://www.jd.com
- 淘宝: https://www.taobao.com
- 天猫: https://www.tmall.com
- 拼多多: https://www.pdd.com

### 步骤 2: 打开商品页面

浏览到具体商品页面（例如：`https://item.jd.com/123456.html`）

### 步骤 3: 使用插件

**方式一：使用浮动按钮**
- 页面右下角会显示一个浮动按钮
- 点击即可打开侧边栏助手

**方式二：使用插件图标**
- 点击浏览器工具栏中的插件图标
- 在弹窗中点击"打开助手面板"

### 步骤 4: 开始使用

在侧边栏中可以使用：
- 💬 **聊天**: 与AI助手对话
- 📊 **分析**: 查看商品分析
- 🔍 **比价**: 对比不同平台价格
- 📈 **追踪**: 设置价格追踪

## 🛠️ 功能说明

### 自动商品信息提取

当您访问商品页面时，插件会自动：
1. 提取商品名称
2. 提取商品价格
3. 提取商品图片
4. 识别购物平台

### 智能对话

在聊天界面中，您可以：
- 询问商品信息
- 获取购买建议
- 咨询价格趋势
- 获得个性化推荐

### 商品分析

分析功能提供：
- 价格分析
- 风险分析
- 价格预测
- 购买建议

### 价格对比

比价功能可以：
- 对比多个平台的价格
- 显示历史价格趋势
- 推荐最佳购买平台

### 价格追踪

追踪功能可以：
- 设置目标价格
- 价格下降时提醒
- 查看价格历史
- 接收价格通知

## ⚙️ 配置选项

### 修改API地址

如果后端服务不在默认地址，需要修改：

编辑 `browser-extension/background.js` 和 `browser-extension/api.js`，将：
```javascript
const API_BASE_URL = 'http://localhost:8000';
```
改为您的实际API地址。

### 禁用自动提取

在 `background.js` 中，可以设置：
```javascript
autoExtract: false
```
来禁用自动提取商品信息。

## 🐛 常见问题

### Q: 插件图标显示不出来

A: 检查 `icons/` 目录中是否有图标文件，如果没有，请添加图标文件。

### Q: 无法提取商品信息

A: 
1. 确保在支持的购物网站
2. 等待页面完全加载
3. 刷新页面重试

### Q: API连接失败

A:
1. 检查后端服务是否运行
2. 检查API地址配置
3. 检查浏览器控制台错误

### Q: 侧边栏无法打开

A:
- Chrome需要114+版本
- Edge需要114+版本
- Firefox需要支持侧边栏API

## 📝 开发调试

### 查看日志

1. **Content Script日志**: 在商品页面按F12，查看控制台
2. **Background日志**: 在扩展程序页面点击"service worker"
3. **Popup日志**: 右键插件图标，选择"检查弹出内容"
4. **Sidepanel日志**: 在侧边栏中右键，选择"检查"

### 重新加载插件

修改代码后，在扩展程序页面点击刷新按钮重新加载插件。

## 🚀 下一步

- 尝试在不同购物网站使用
- 测试各种功能
- 根据需要自定义功能
- 提交问题或建议

---

**享受智能购物助手的便利吧！** 🛍️✨

